<script lang="ts">
	import Node from './Node.svelte';

	export let isIntersecting = false;
</script>

<svg
	class="nodeFrame"
	class:isIntersecting
	width="65"
	height="137"
	viewBox="0 0 65 137"
	fill="none"
	xmlns="http://www.w3.org/2000/svg"
>
	<Node>
		<path
			d="M59.3742 73.5219C59.2195 73.5219 59.066 73.5478 58.9171 73.5903L45.9171 77.2884C45.1208 77.5157 44.5718 78.2406 44.5714 79.0655V89.329C44.2659 89.2662 43.9548 89.2347 43.6429 89.2347C41.0787 89.2347 39 91.3042 39 93.8573C39 96.4103 41.0787 98.48 43.6429 98.48C46.1418 98.48 48.1906 96.5065 48.2785 94.0199C48.2841 93.9662 48.2859 93.9107 48.2859 93.8571V80.462L57.5716 77.8223V83.6873L61.2859 81.8382V75.3665C61.2842 74.3251 60.4197 73.4905 59.3744 73.5208L59.3742 73.5219ZM56.6429 86.462C56.1284 86.462 55.7143 86.8743 55.7143 87.3865V96.6318C55.7143 97.144 56.1284 97.5564 56.6429 97.5564C57.1573 97.5564 57.5714 97.144 57.5714 96.6318V87.3865C57.5714 86.8743 57.1573 86.462 56.6429 86.462ZM60.3571 88.311C59.8427 88.311 59.4286 88.7234 59.4286 89.2356V94.7828C59.4286 95.295 59.8427 95.7073 60.3571 95.7073C60.8716 95.7073 61.2857 95.295 61.2857 94.7828V89.2356C61.2857 88.7234 60.8716 88.311 60.3571 88.311ZM52.9286 90.1601C52.4141 90.1601 52 90.5725 52 91.0846V92.9337C52 93.4459 52.4141 93.8582 52.9286 93.8582C53.443 93.8582 53.8571 93.4459 53.8571 92.9337V91.0846C53.8571 90.5725 53.443 90.1601 52.9286 90.1601ZM64.0714 90.1601C63.557 90.1601 63.1429 90.5725 63.1429 91.0846V92.9337C63.1429 93.4459 63.557 93.8582 64.0714 93.8582C64.5859 93.8582 65 93.4459 65 92.9337V91.0846C65 90.5725 64.5859 90.1601 64.0714 90.1601Z"
			fill="#78E5F6"
		/>
	</Node>
	<path
		d="M47.5424 37.6C44.2501 37.6 41.5996 40.2505 41.5996 43.5429V52.4571C41.5996 55.7495 44.2501 58.4 47.5424 58.4H56.4568C59.7493 58.4 62.3996 55.7495 62.3996 52.4571V43.5429C62.3996 40.2505 59.7491 37.6 56.4568 37.6H47.5424ZM46.0567 45.0286C46.8799 45.0286 47.5424 45.6912 47.5424 46.5143V49.4856C47.5424 50.3087 46.8799 50.9714 46.0567 50.9714C45.2336 50.9714 44.571 50.3087 44.571 49.4856V46.5143C44.571 45.6912 45.2336 45.0286 46.0567 45.0286ZM57.9425 45.0286C58.7657 45.0286 59.4283 45.6912 59.4283 46.5143V49.4856C59.4283 50.3087 58.7657 50.9714 57.9425 50.9714C57.1195 50.9714 56.4569 50.3087 56.4569 49.4856V46.5143C56.4569 45.6912 57.1195 45.0286 57.9425 45.0286ZM55.1364 52.6167C55.4357 52.6096 55.7301 52.6931 55.9811 52.8562C56.232 53.0193 56.4279 53.2544 56.543 53.5307C56.6581 53.807 56.6871 54.1116 56.6261 54.4047C56.5652 54.6977 56.4172 54.9655 56.2014 55.173C55.0873 56.2872 53.5753 56.914 51.9996 56.914C50.4241 56.914 48.9119 56.2871 47.7979 55.173C47.5861 54.9669 47.4406 54.7022 47.38 54.413C47.3194 54.1237 47.3464 53.823 47.4577 53.5491C47.5689 53.2753 47.7592 53.0409 48.0044 52.8758C48.2495 52.7107 48.5384 52.6225 48.8339 52.6225C49.0325 52.6225 49.229 52.6623 49.4119 52.7395C49.5948 52.8168 49.7604 52.9299 49.8988 53.0722C50.4564 53.6298 51.2111 53.9429 51.9997 53.9429C52.7884 53.9429 53.543 53.6303 54.1006 53.0722C54.3723 52.7898 54.7447 52.6261 55.1365 52.6169L55.1364 52.6167Z"
		fill="#F57389"
	/>
	<path
		d="M39 111V137H41.1655V133.286H44.5714V137H59.4286V133.286H63.1428V137H65V111H63.1428V114.714H59.4286V111H44.5714V114.714H41.1655V111H39ZM46.4288 116.572H50.143V120.286H57.5714V124H53.8571V127.715H57.5714V131.429H51.9999C51.5074 131.429 51.035 131.233 50.6868 130.885C50.3385 130.536 50.1428 130.064 50.1428 129.572V124H48.2856C47.7931 124 47.3207 123.804 46.9725 123.456C46.6242 123.108 46.4286 122.635 46.4285 122.143V118.429L46.4288 116.572ZM41.1658 118.429H44.5717V122.143H41.1658V118.429ZM59.4287 118.429H63.1429V122.143H59.4287V118.429ZM41.1658 125.857H44.5717V129.571H41.1658V125.857ZM59.4287 125.857H63.1429V129.571H59.4287V125.857Z"
		fill="#F6AA78"
	/>
	<path
		d="M30.3363 0.000982854C29.3092 0.000982854 28.4823 0.828745 28.4823 1.85692V7.42465C28.4823 8.45283 29.3092 9.28049 30.3363 9.28049H32.1903V11.1182C31.9898 11.1245 31.7918 11.1634 31.6037 11.2332L27.8018 12.5018L26.5343 8.69584C26.4118 8.30888 26.1659 7.97281 25.8343 7.73911C25.5027 7.50541 25.1038 7.38698 24.6985 7.40195C24.4086 7.41252 24.1252 7.49105 23.8711 7.63124C23.617 7.77143 23.3993 7.96936 23.2355 8.20911C23.0717 8.44885 22.9665 8.72373 22.9282 9.01162C22.8899 9.29952 22.9195 9.59239 23.0149 9.8667L24.8687 15.4344C24.9457 15.6658 25.0674 15.8798 25.227 16.0641C25.3866 16.2484 25.5809 16.3993 25.7988 16.5084C26.0167 16.6175 26.254 16.6825 26.497 16.6997C26.74 16.717 26.984 16.6861 27.2151 16.6088L30.3365 15.5686V16.7031C30.3365 16.7788 30.3716 16.8442 30.3789 16.917L21.8913 22.5828C21.6844 22.716 21.506 22.8891 21.3665 23.0921C21.2271 23.295 21.1293 23.5237 21.0791 23.7649C21.0288 24.006 21.0271 24.2548 21.0738 24.4966C21.1206 24.7384 21.2149 24.9686 21.3514 25.1735C21.4879 25.3785 21.6638 25.5542 21.8688 25.6904C22.0738 25.8266 22.3039 25.9206 22.5456 25.9669C22.7873 26.0132 23.0357 26.0109 23.2765 25.9601C23.5173 25.9093 23.7456 25.811 23.948 25.671L33.3229 19.4146L36.0929 24.9568C36.2924 25.3567 36.6292 25.671 37.0416 25.8421C37.4541 26.0132 37.9143 26.0297 38.3378 25.8884L43.8997 24.0324C44.1374 23.9609 44.3583 23.8423 44.5493 23.6837C44.7404 23.5252 44.8977 23.3298 45.0119 23.1093C45.1262 22.8888 45.195 22.6475 45.2144 22.3998C45.2338 22.1521 45.2033 21.9031 45.1247 21.6675C45.0462 21.4318 44.9212 21.2143 44.7571 21.0279C44.5931 20.8415 44.3933 20.69 44.1697 20.5823C43.946 20.4746 43.7031 20.4129 43.4552 20.401C43.2073 20.389 42.9595 20.427 42.7266 20.5126L38.6892 21.8574L36.8824 18.2365C37.3938 17.9066 37.7514 17.36 37.7514 16.7031V14.8473H40.315L41.6548 17.5333C41.7623 17.7535 41.9124 17.9502 42.0964 18.1121C42.2803 18.2739 42.4944 18.3977 42.7264 18.4762C42.9584 18.5547 43.2036 18.5865 43.4479 18.5697C43.6922 18.5528 43.9308 18.4877 44.1498 18.3781C44.3688 18.2684 44.564 18.1164 44.724 17.9309C44.8841 17.7453 45.0058 17.5298 45.0822 17.2969C45.1586 17.064 45.1881 16.8183 45.1691 16.5739C45.1501 16.3295 45.083 16.0913 44.9715 15.873L43.1175 12.1613C42.9635 11.853 42.7268 11.5937 42.4339 11.4126C42.141 11.2314 41.8035 11.1354 41.4592 11.1354H35.8973V9.27961H37.7511C38.7782 9.27961 39.6051 8.4518 39.6051 7.42362V1.85587C39.6051 0.827722 38.7782 0 37.7511 0L30.3363 0.000982854ZM30.3363 3.71272H32.1903V7.42443H30.3363V3.71272Z"
		fill="#478CBF"
	/>
	<path d="M0.942383 10.9527L8.01345 18.0237L15.0845 10.9527" stroke="#fff" stroke-width="2" />
	<path
		d="M8 27L8 48.5M29.5 124H8L8 86M8 86H29.5M8 86L8 48.5M8 48.5H29.5"
		stroke="#fff"
		stroke-width="2"
	/>
</svg>

<style lang="scss">
	.nodeFrame {
		position: absolute;
		top: 42px;
		left: 22px;
		opacity: 0;
		transition: opacity 300ms linear;
		transition-delay: 400ms;

		&.isIntersecting {
			opacity: 1;
		}
	}

	path {
		cursor: pointer;
	}
</style>
